---
title: "2020"
date: 2022-01-04
weight: 94
---

## Week 1

### packit

- Correctly updates version on srpm build. ([#642](https://github.com/packit-service/packit/pull/642))
- Downloads all URL sources before srpm build. ([#643](https://github.com/packit-service/packit/pull/643))

### packit service

- Runs on Fedora 31. ([#303](https://github.com/packit-service/packit-service/pull/303), [#304](https://github.com/packit-service/packit-service/pull/304))
- Correctly checks list of whitelisted repositories when issue comment is added. ([#309](https://github.com/packit-service/packit-service/pull/309))

## Week 2

### packit

- Incorporates lots of SRPM related improvements. ([#646](https://github.com/packit-service/packit/pull/646), [#650](https://github.com/packit-service/packit/pull/650), [#651](https://github.com/packit-service/packit/pull/651), [#652](https://github.com/packit-service/packit/pull/652), [#653](https://github.com/packit-service/packit/pull/653))
- Better handles when Copr owner is not set. ([#648](https://github.com/packit-service/packit/pull/648))

### packit service

- Fixes SRPM exceptions/errors handling. ([#311](https://github.com/packit-service/packit-service/pull/311), [#317](https://github.com/packit-service/packit-service/pull/317))
- Has loading of config fixed. ([#318](https://github.com/packit-service/packit-service/pull/318))

## Week 3

### packit

- Uses [Marshmallow](https://pypi.org/project/marshmallow) for configuration schema. ([#657](https://github.com/packit-service/packit/pull/657))
- Is able to build in [Koji](https://koji.fedoraproject.org) from upstream/source-git. ([#658](https://github.com/packit-service/packit/pull/658))
- Doesn't download remote sources when "sources" path exists in upstream. ([#659](https://github.com/packit-service/packit/pull/659))
- Configuration file allows list syntax in action commands. ([#663](https://github.com/packit-service/packit/pull/663))
- Configuration can use a new option to exclude paths from patching. ([#666](https://github.com/packit-service/packit/pull/666))
- Has few less bugs. ([#660](https://github.com/packit-service/packit/pull/660), [#661](https://github.com/packit-service/packit/pull/661), [#664](https://github.com/packit-service/packit/pull/664), [#667](https://github.com/packit-service/packit/pull/667))

### packit service

- Uses [Marshmallow](https://pypi.org/project/marshmallow) for configuration schema. ([#320](https://github.com/packit-service/packit-service/pull/320))
- Runs build for test job even when it's not explicitly configured. ([#324](https://github.com/packit-service/packit-service/pull/324))
- Reports invalid or missing packit config. ([#328](https://github.com/packit-service/packit-service/pull/328))
- Status workflow has been changed and simplified. ([#338](https://github.com/packit-service/packit-service/pull/338))
- Minor fixes. ([#323](https://github.com/packit-service/packit-service/pull/323), [#326](https://github.com/packit-service/packit-service/pull/326), [#329](https://github.com/packit-service/packit-service/pull/329), [#331](https://github.com/packit-service/packit-service/pull/331), [#335](https://github.com/packit-service/packit-service/pull/335), [#336](https://github.com/packit-service/packit-service/pull/336))

## Week 4

### packit

- [0.8.1](https://pypi.org/project/packitos/0.8.1/) has been released.
- CLI has bash auto completion. ([#654](https://github.com/packit-service/packit/pull/654))
- Few bugs have been squashed. ([#668](https://github.com/packit-service/packit/pull/668), [#670](https://github.com/packit-service/packit/pull/670), [#676](https://github.com/packit-service/packit/pull/676), [#677](https://github.com/packit-service/packit/pull/677), [#678](https://github.com/packit-service/packit/pull/678), [#680](https://github.com/packit-service/packit/pull/680), [#682](https://github.com/packit-service/packit/pull/682))

### packit service

- More checks messages have been unified. ([#355](https://github.com/packit-service/packit-service/pull/355))
- One more testing-farm status is now shown before the tests are submitted. ([#343](https://github.com/packit-service/packit-service/pull/343))
- No-fmf scenario has better messages. ([#362](https://github.com/packit-service/packit-service/pull/362))
- Minor fixes and improvements. ([#339](https://github.com/packit-service/packit-service/pull/339), [#340](https://github.com/packit-service/packit-service/pull/340), [#342](https://github.com/packit-service/packit-service/pull/342), [#345](https://github.com/packit-service/packit-service/pull/345), [#346](https://github.com/packit-service/packit-service/pull/346), [#347](https://github.com/packit-service/packit-service/pull/347), [#348](https://github.com/packit-service/packit-service/pull/348), [#352](https://github.com/packit-service/packit-service/pull/352), [#353](https://github.com/packit-service/packit-service/pull/353), [#350](https://github.com/packit-service/packit-service/pull/350), [#357](https://github.com/packit-service/packit-service/pull/357), [#358](https://github.com/packit-service/packit-service/pull/358), [#361](https://github.com/packit-service/packit-service/pull/361), [#364](https://github.com/packit-service/packit-service/pull/364))

## Week 5

### packit

- CLI has a new command for local build. ([#687](https://github.com/packit-service/packit/pull/687))
- Logs less. ([#685](https://github.com/packit-service/packit/pull/685))

### packit service

- Minor fixes and improvements. ([#365](https://github.com/packit-service/packit-service/pull/365), [#371](https://github.com/packit-service/packit-service/pull/371), [#373](https://github.com/packit-service/packit-service/pull/373), [#376](https://github.com/packit-service/packit-service/pull/376))

## Week 6

Both Packit and Packit Service pre-commit hooks [were][1] [updated][2] to include
[prettier] and [setup-cfg-fmt], in order to have a more consistent formatting of
markup, YAML, JSON and `setup.cfg` files.

It became easier for developers to [build the Packit base image] locally, and
tests in Zuul [were configured] to run on Fedora 31.

Packit learned [how to look for RPM spec files on its own], so specifying
`specfile_path` in the configuration is not mandatory anymore. Packit will
recursively search the tree and use the first spec file found.

The Redis pod in Packit Service uses an up to date image now, [based on Fedora 31].
Kudos to [hhorak] for the help!

[1]: https://github.com/packit-service/packit/pull/697
[2]: https://github.com/packit-service/packit-service/pull/383
[prettier]: https://github.com/prettier/prettier
[setup-cfg-fmt]: https://github.com/asottile/setup-cfg-fmt
[build the packit base image]: https://github.com/packit-service/packit/pull/695
[were configured]: https://github.com/packit-service/packit/pull/694
[how to look for rpm spec files on its own]: https://github.com/packit-service/packit/pull/634
[based on fedora 31]: https://github.com/packit-service/deployment/pull/51
[hhorak]: https://github.com/hhorak

## Week 7

The default configuration generated by Packit has [test jobs enabled] from now
on. This should simplify configuring Packit in new repositories.

[Fixed a bug] which was causing SRPM-build failures in Packit Service for projects
which had their spec files stored in a subdirectory.

As a result of [keys.fedoraproject.org] being turned off, Packit now [tries] a
list of GPG keyservers when downloading keys to check commit signatures.

When enabling Packit Service for new GitHub repositories, instead of checking
if the requester is a Fedora packager, we'll check if they [signed the Fedora
Project Contributor Agreement].

While proposing an update to Fedora, Packit Service will [report a failure] now
when there are no releases found in the upstream GitHub repository.

Test results became [serializable], we will not block when [no test results
are received], and Packit Service received [some initial code] to enable using
PostgreSQL as a data backend.

[test jobs enabled]: https://github.com/packit-service/packit/pull/703
[fixed a bug]: https://github.com/packit-service/packit/pull/698
[tries]: https://github.com/packit-service/packit/pull/699
[keys.fedoraproject.org]: https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/message/COEYWJBQDAWRSYNQW7Y7TD2EKEGBWOAY/
[signed the fedora project contributor agreement]: https://github.com/packit-service/packit-service/pull/403
[no test results are received]: https://github.com/packit-service/packit-service/pull/388
[some initial code]: https://github.com/packit-service/packit-service/pull/319
[report a failure]: https://github.com/packit-service/packit-service/pull/399
[serializable]: https://github.com/packit-service/packit-service/pull/391

## Week 8

Postgresql database was introduced in production environment to improve performance and enable implementation
of new features, e.g. storing logs to reduce amount of messages sent directly to pull request [(#406)], [(#420)].

Cleanup in configuration files was performed, so no longer needed values were removed from .packit.yaml [(#709)].
User experience was improved by adding new `--upstrem-ref` option to `copr-build` command in command-line interface [(#718)]
and making error reporting more robust by adding new fedpkg clones related error message [(#714)].

Following bugs were fixed:

- bug in copr-build command fixed [(#713)]
- get_local_package_config() duplicate entries in 'directories' bug fixed [(#715)]

[(#709)]: https://github.com/packit-service/packit/pull/709
[(#718)]: https://github.com/packit-service/packit/pull/718
[(#714)]: https://github.com/packit-service/packit/pull/714
[(#713)]: https://github.com/packit-service/packit/pull/713
[(#715)]: https://github.com/packit-service/packit/pull/715
[(#406)]: https://github.com/packit-service/packit-service/pull/406
[(#420)]: https://github.com/packit-service/packit-service/pull/420

## Week 9

### packit

- Dist-git patches are now applied in source-git repos with `-p1` to resolve an issue when they are generated with git and patch program fails to apply them [(#730)].
- Fedora 32 was added to 'fedora-all' and 'fedora-development' aliases [(#731)].
- We have put more links to our documentation (README, deprecation warning in packit) so that people can easily correct their configuration files [(#726)].

### packit-service

- `targets` key in copr job definition in the packit.yaml is no longer a required field (it defaults to `fedora-stable`) [(#431)].
- Builds are now correctly linked to their actual GitHub projects (this can be seen in the logs view) [(#441)].

[(#730)]: https://github.com/packit-service/packit/pull/730
[(#731)]: https://github.com/packit-service/packit/pull/731
[(#726)]: https://github.com/packit-service/packit/pull/726
[(#431)]: https://github.com/packit-service/packit-service/pull/431
[(#441)]: https://github.com/packit-service/packit-service/pull/441

## Week 10 (March 2nd - March 6th)

### packit

- The generate command is now deprecated in favour of the init command
  [(#728)], contributed by [@shreyaspapi](https://github.com/shreyaspapi).

### packit-service

- When a non-collaborator creates a PR, packit says that only "Collaborators
  can trigger packit-service" - this message has been improved to better match
  the reality [(#445)].
- Packit service no longer posts comments on pull requests when a SRPM can't be
  created - the logs should be now aviable in the service's logs view available
  when clocking on the commit status check URL [(#447)].
- Commands to control packit service can now be embedded in a comment
  (previously, the whole comment was treated as a command) - hence you can now
  create a comment to give an update and also trigger packit [(#433)],
  contributed by [@IceWreck](https://github.com/IceWreck).
- We have improved monitoring of packit-service by using more sentry.io's
  features [(#458)].
- You can now disable the functionality when packit service comments on a PR
  when it gets built for the first time (`notifications: {pull_request: {successful_build:: false}}` in your packit.yaml), hi
  [Lars](https://github.com/larskarlitski)! [(#455)].

[(#728)]: https://github.com/packit-service/packit/pull/728
[(#445)]: https://github.com/packit-service/packit-service/pull/445
[(#447)]: https://github.com/packit-service/packit-service/pull/447
[(#433)]: https://github.com/packit-service/packit-service/pull/433
[(#458)]: https://github.com/packit-service/packit-service/pull/458
[(#455)]: https://github.com/packit-service/packit-service/pull/455

## Week 11 (March 9th - March 13th)

### packit

- We have changed how packit treats version and release in the spec file [(#748)].
  - We handle the `git-describe` output better which should help when tags
    contain dashes [(#759)].
- When packit adds source-git patches into a spec file it adds them outside
  of rpm macros now [(#760)].
- In pull request pipelines we run the packit-service tests so that we are sure we
  do not break the service [(#752)].

### packit-service

- Comments from packit-service about successful `propose-update` in the issue
  which triggered the update now include the URL of the new pull-request in Fedora [(#472)].
- We have done some major refactoring how jobs are processed
  [(#476)], [(#746)], [(#453)].
- Development and debugging of the packit-service should be easier now, we
  documented how to run packit-service locally [(#473)].

[(#746)]: https://github.com/packit-service/packit/pull/746
[(#748)]: https://github.com/packit-service/packit/pull/748
[(#752)]: https://github.com/packit-service/packit/pull/752
[(#759)]: https://github.com/packit-service/packit/pull/759
[(#760)]: https://github.com/packit-service/packit/pull/760
[(#472)]: https://github.com/packit-service/packit-service/pull/472
[(#473)]: https://github.com/packit-service/packit-service/pull/473
[(#476)]: https://github.com/packit-service/packit-service/pull/476
[(#453)]: https://github.com/packit-service/packit-service/pull/453

## Week 12 (March 16th - March 20th)

### packit

- When you are executing `copr-build` command, you do not
  need to set the project name if this value is defined in
  the `copr_build` job in the configuration file [(#763)].
- All patches generated from a source-git repo are now prefixed with a number
  so they are easy to sort [(#765)].
- We improved the behaviour when loading the authentication in the config file -
  users are warned only if deprecated keys are used, no more confusing messages when
  you do not have `authentication` key in the configuration [(#754)].

### packit-service

- We periodically check the status of the copr-build so that we do not need to rely
  on the Fedora message bus. This should avoid failures in build status reporting [(#490)].
- `Propose-update` triggered by comment in Github now recognizes also pre-releases [(#498)].
- Several bugs in how we report results from Testing farm have been fixed and Testing
  farm results should now appear correctly in commit status checks
  [(#496)], [(#505)], [(#510)], [(#513)].

[(#765)]: https://github.com/packit-service/packit/pull/765
[(#754)]: https://github.com/packit-service/packit/pull/754
[(#763)]: https://github.com/packit-service/packit/pull/763
[(#490)]: https://github.com/packit-service/packit-service/pull/490
[(#498)]: https://github.com/packit-service/packit-service/pull/498
[(#497)]: https://github.com/packit-service/packit-service/pull/497
[(#496)]: https://github.com/packit-service/packit-service/pull/496
[(#505)]: https://github.com/packit-service/packit-service/pull/505
[(#510)]: https://github.com/packit-service/packit-service/pull/510
[(#513)]: https://github.com/packit-service/packit-service/pull/513

## Week 13 (March 23th - March 27th)

- New Packit version 0.9.0 was released.
- Packit Service now mostly uses PostgreSQL instead of Redis as a backend,
  which will result in more responsive API and Dashboard.

## Week 14 (March 30th - April 3rd)

### packit

- Fix web URLs for Copr builds owned by groups [(#778)].
- Create downstream spec if it's not there (propose-update) - this used to happen when using packit on a newly created package in Fedora which did not have spec fille added yet. [(#779)]
- Packit no longer inspects archive extension set in `Source` and creates `.tar.gz` by default - this should be more flexible and prevent issues for "non-standard" archive names. [(#781)]

### packit-service

- Several fixes and improvements after switching data store from Redis to PostgreSQL.
- Use the configured COPR project when triggering Testing Farm (tests no longer fail for projects which are built in their own COPR namespace) [(#524)].

[(#778)]: https://github.com/packit-service/packit/pull/778
[(#779)]: https://github.com/packit-service/packit/pull/779
[(#781)]: https://github.com/packit-service/packit/pull/781
[(#524)]: https://github.com/packit-service/packit-service/pull/524

## Week 15 (March 6th - April 9th)

### packit

- [Tomáš] finished teaching `packit srpm` to [linearise extremely complex Git
  histories], in order to get patches that can be applied when building the
  SRPM.
- [Jirka] made the schema validation code [Marshmallow3 compatible]. This
  enables building `packit` in Fedora 32 and Rawhide.

### packit-service

- [Franta] fixed an issue with [parsing release events].
- [Jirka] made code [Marshmallow3] compatible in this project, too.

[tomáš]: https://github.com/TomasTomecek
[jirka]: https://github.com/jpopelka
[franta]: https://github.com/lachmanfrantisek
[linearise extremely complex git histories]: https://github.com/packit-service/packit/pull/766
[marshmallow3 compatible]: https://github.com/packit-service/packit/pull/775
[marshmallow3]: https://github.com/packit-service/packit-service/pull/538
[parsing release events]: https://github.com/packit-service/packit-service/issues/536

## Week 16 (April 14th - April 17th)

### packit & packit-service

- Job metadata field `dist-git-branch` is now marked as deprecated, to be
  replaced by `dist_git_branches` to match the naming of other metadata fields
  and to accept multiple branch names where Packit should work. ([#797],
  [#788] and [#564]).
- A great deal of refactoring, CI work and general code improvements which
  will make Packit and Packit Service run smoother and development easier.

[#797]: https://github.com/packit-service/packit/pull/797
[#788]: https://github.com/packit-service/packit/pull/788
[#564]: https://github.com/packit-service/packit-service/pull/564

## Week 17 (April 20th - April 24th)

### packit-service

In this week we mostly focused on CentOS Stream and
some under the hood improvements,
none of which are available for Github projects.

- [Jano] did a lot of work on [initial CentOS Stream integration].
- [Hunor] added a Pagure build status reporting.
- [Anchit] added first API tests and improved build statuses given by the API.
- [Laura] and [Rishav] improved how data about Copr builds are stored in our db.

[anchit]: https://github.com/IceWreck
[hunor]: https://github.com/csomh
[jano]: https://github.com/sakalosj
[laura]: https://github.com/lbarcziova
[rishav]: https://github.com/rishavanand
[initial centos stream integration]: https://github.com/packit-service/packit-service/pull/515

## Week 18 (April 27th - April 30th)

### packit-service

- [Franta] did a great deal of service & worker refactoring related to CentOS ([#586])
  and to forks usage in Github. ([#589])
- [Hunor] fixed confusing Github status messages while building in Copr. ([#588])

[#586]: https://github.com/packit-service/packit-service/pull/586
[#588]: https://github.com/packit-service/packit-service/pull/588
[#589]: https://github.com/packit-service/packit-service/pull/589

## Week 19 (May 4th - May 6th)

### packit

- The image now uses ogr from git master instead of from Fedora stable RPM.

### packit-service

- [Franta] Fixed a previous week introduced bug, which prevented users from being whitelisted. ([#599])
- [Hunor] Made improvements to avoid a race condition in getting app access token. ([#601])

[franta]: https://github.com/lachmanfrantisek
[hunor]: https://github.com/csomh
[#599]: https://github.com/packit-service/packit-service/pull/599
[#601]: https://github.com/packit-service/packit-service/pull/601

## Week 20+21 (May 11th - May 22th)

### packit

- The debug logs in the CLI are now much more consistent. ([#824])
- A bug in the `propose-update` causing problems with the synchronization of the spec-file content was fixed. ([#830])
- You can now use `epel-all` alias in the arguments and also in the configuration. ([#835])

### packit-service

- In job definition for packit-service you can use `epel-all` alias as well. ([#835])

[#824]: https://github.com/packit-service/packit/pull/824
[#830]: https://github.com/packit-service/packit/pull/830
[#835]: https://github.com/packit-service/packit/pull/835

## Week 22 (May 25th - May 29th)

### packit

- [The problem with kerberos initialization](https://github.com/packit-service/packit/issues/837)
  was fixed. ([#838])
- We released a new version of the packit package. ([release 0.11.0])
- We have been also working on some smaller issues and preparation steps for our future work.
  ([#841], [#843], [#846], [#847])

[#838]: https://github.com/packit-service/packit/pull/838
[#841]: https://github.com/packit-service/packit/pull/841
[#843]: https://github.com/packit-service/packit/pull/843
[#846]: https://github.com/packit-service/packit/pull/846
[#847]: https://github.com/packit-service/packit/pull/847
[release 0.11.0]: https://github.com/packit-service/packit/releases/tag/0.11.0

### packit-service

- [Jirka] implemented creating a new bug in Bugzilla for CentOS Stream pull-requests ([#627]).
  This will be triggered when the label "accepted" is added to a PR in the (near) future.
- You will be able to use aliases also for koji builds. ([packit:#839], [#632])
- [Laura] fixed [a problem](https://github.com/packit-service/packit-service/issues/535)
  with missing builds when triggering Packit Service with `/packit test`.
  Now, we trigger the build first if there are no builds for the pull-request yet. ([#631])

[jirka]: https://github.com/jpopelka
[laura]: https://github.com/lbarcziova
[#627]: https://github.com/packit-service/packit-service/pull/627
[packit:#839]: https://github.com/packit-service/packit/pull/839
[#632]: https://github.com/packit-service/packit-service/pull/632
[#631]: https://github.com/packit-service/packit-service/pull/631

## Week 23 (June 1st - June 5th)

Hello everyone, during this week we didn't manage to implement any significant new features - most of the work happened under the hood.

### packit

- We have fixed a formatting issue when packit prints installation instructions for using builds from a copr repo (by [@lachmanfrantisek](https://github.com/lachmanfrantisek), [#852](https://github.com/packit-service/packit/pulls/852)).
- You are able to set up builds when you push to a branch, we have set this up for master branch of packit, feel free to get inspired (by [@lachmanfrantisek](https://github.com/lachmanfrantisek), [#851](https://github.com/packit-service/packit/pulls/851)).

### packit-as-a-service

- We have run into multiple problems when you set up jobs for PRs and branch pushes - there were multiple fixes for this, packit-service wasn't able to work well with the fact that there are multiple jobs defined for the same job type - e.g. build.

## Week 24 (June 8th - June 11th)

### packit

- [Tomas](https://github.com/TomasTomecek) re-implemented overriding of package config per job. This will enable overriding configuration for builds and releases once the corresponding changes are merged in Packit-as-a-Service. ([#858](https://github.com/packit-service/packit/pull/858), [#859](https://github.com/packit-service/packit/pull/859)).

### packit-as-a-service

- We are now parsing events from Koji about the progress of the builds and report them (by [Franta](https://github.com/lachmanfrantisek/), [#657](https://github.com/packit-service/packit-service/pull/657)).
- We are now able to listen to Gitlab hooks and parse the (comment & push) events (by [Shreyas](https://github.com/shreyaspapi), [#629](https://github.com/packit-service/packit-service/pull/629), [#671](https://github.com/packit-service/packit-service/pull/671)).
- Log pages have been restructured by linking SRPM build logs instead of including them (by [Hunor](https://github.com/csomh), [#641](https://github.com/packit-service/packit-service/pull/641)).

## Week 25 (June 15th - June 19th)

### packit

- Packit logs more information for RebaseHelper errors (by [@csomh](https://github.com/csomh), [#865](https://github.com/packit-service/packit/pull/865)).

### packit-as-a-service

- Obtaining builds via packit [API endpoint](https://prod.packit.dev/api/copr-builds) is now significantly quicker (by [@IceWreck](https://github.com/IceWreck), [#674](https://github.com/packit-service/packit-service/pull/674)).
- We now have an API endpoint for obtaining results from testing farm (by [@IceWreck](https://github.com/IceWreck), [#678](https://github.com/packit-service/packit-service/pull/678)).
- We finished the implementation of the trigger to create bugs in Bugzilla. Therefore packit is now able to create bugzilla for accepted PR's in CentOS (by [@jpopelka](https://github.com/jpopelka), [#662](https://github.com/packit-service/packit-service/pull/662)).

## Week 26 (June 22th - June 26th)

### packit

- packit now supports using custom repositories and packages when building in Copr and has options to preserve the project and to list it in on the Copr home page [@lachmanfrantisek](https://github.com/lachmanfrantisek), [#872](https://github.com/packit-service/packit/pull/872).
- Custom commands defined by user in packit config now are run in the shell, no more `bash -c` required (by [@TomasTomecek](https://github.com/TomasTomecek), [#871](https://github.com/packit-service/packit/pull/871)).
- packit now includes pull request ID in version of rpm. (by [@sturivny](https://github.com/sturivny) and [@TomasTomecek](https://github.com/TomasTomecek), [#870](https://github.com/packit-service/packit/pull/870)).

### packit-as-a-service

- We added support for copr builds in gitlab (by [@shreyaspapi](https://github.com/shreyaspapi), [#683](https://github.com/packit-service/packit-service/pull/683)).
- packit-service utilizes the new options introduced in packit (by [@lachmanfrantisek](https://github.com/lachmanfrantisek), [#694](https://github.com/packit-service/packit-service/pull/694)).

## Week 27 (June 29th - July 3rd)

### packit

- We introduced a new command `packit validate-config` which validates the contect of a package configuration file in your project
  (contributed by [@TomasJani](https://github.com/TomasJani), [#826](https://github.com/packit-service/packit/pull/826)).

### packit-as-a-service

- You are now able to override configuration for builds, releases and other jobs (by [@TomasTomecek](https://github.com/TomasTomecek), [#676](https://github.com/packit-service/packit-service/pull/676)).
  Read more about this feature [here](/docs/configuration/#overriding-global-parameters).

## Week 28 (July 6th - July 10th)

### packit

- Command `validate-config` works properly now and does not produce odd error messages, by [@TomasTomecek](https://github.com/TomasTomecek) and [@csomh](https://github.com/csomh), [#894](https://github.com/packit-service/packit/pull/894) and [#895](https://github.com/packit-service/packit/pull/895)
- You will now properly see git-describe metadata in the `%release` field in spec file when using `srpm` command, by [@TomasTomecek](https://github.com/TomasTomecek), [#894](https://github.com/packit-service/packit/pull/894)
- git-log is being used to get a list of commits between HEAD and latest tag to pick up commit messages and add those to %changelog, by [@TomasTomecek](https://github.com/TomasTomecek), [#889](https://github.com/packit-service/packit/pull/889)
- packit is now able to load metadata from commits of a source-git repo and utilize them when creating patch files, by [@lachmanfrantisek](https://github.com/lachmanfrantisek), [#875](https://github.com/packit-service/packit/pull/875)

### packit-as-a-service

- We now have a new API endpoint: [`/api/projects/`](https://prod.packit.dev/api/projects), by [@IceWreck](https://github.com/IceWreck), [#716](https://github.com/packit-service/packit-service/pull/716)
- Over the last few weeks, [@lbarcziova](https://github.com/lbarcziova) was very busy with refactoring how jobs and tasks are being executed in packit-service. This work is now complete which allows us to scale the deployment up while giving us better introspection in what's happening inside, by [@lbarcziova](https://github.com/lbarcziova), [#704](https://github.com/packit-service/packit-service/pull/704)

## Week 29 (July 13th - July 17th)

![Tatranska Lomnica](/images/tatranska-lomnica-dhodovsk.jpg) Copyright (c) Dominika Hodovska. This work is licensed under a [Creative Commons Attribution 4.0 International License](http://creativecommons.org/licenses/by/4.0/).

## Week 30 (July 20th - July 24th)

- [Anchit] added [a few new API endpoints] to Packit-as-a-Service to retrieve
  project information. This is used in the Dashboard, to provide [an overview
  of the projects] served by Packit.

[anchit]: https://github.com/IceWreck
[a few new api endpoints]: https://github.com/packit-service/packit-service/pull/746
[an overview of the projects]: https://dashboard.packit.dev/projects

## Week 31 (July 27th - July 31st)

- [Jano] did a lot of work on our deployment. The installation of all our dependencies is much simpler now.
  ([packit-service#747](https://github.com/packit-service/packit-service/pull/747),
  [packit-service#753](https://github.com/packit-service/packit-service/pull/753),
  [packit-service#756](https://github.com/packit-service/packit-service/pull/756),
  [packit-service#757](https://github.com/packit-service/packit-service/pull/757),
  [packit#919](https://github.com/packit-service/packit/pull/919)),
- Packit now puts a link to our documentation in a pull request status when a contributor is not allowed to build the PR, thanks to [Tomáš].
  ([packit-service#758](https://github.com/packit-service/packit-service/pull/758))

[jano]: https://github.com/sakalosj
[tomáš]: https://github.com/TomasTomecek

## Week 32 (August 3rd - August 7th) and 33 (August 10th - August 13th)

- We renamed our GitHub organisation to `packit`.
  That user had been inactive for a long time and [Hunor]'s request was successful.
- The Copr project settings are now changed only if needed. If we can't edit the settings,
  we ask for the admin access to the Copr project and the service shows you a table with
  the changes if you want to do the edit manually.
  ([packit#921](https://github.com/packit/packit/pull/921),
  [packit-service#764](https://github.com/packit/packit-service/pull/764))
- [Matej] fixed an old bug with the custom command for creating archives.
  The archive was not found when building SRPM because of the incorrect processing
  of the paths from the command output.
  ([packit#923](https://github.com/packit/packit/pull/923))

[hunor]: https://github.com/csomh
[matej]: https://github.com/mfocko

## Week 34 (August 17th - August 20th)

- [Tomas] tought packit how to merge related commits, which were previously created
  by git-am applying of a multiple commit patch. ([packit#933](https://github.com/packit/packit/pull/933))
- [Anchit] added new `/api/srpm-builds/` endpoint.
- Service now requests 'builder' permission for custom projects if needed.
- [Franta] fixed a problem with only one job executed executed for 2 build definitions for the same trigger.

[anchit]: https://github.com/IceWreck
[franta]: https://github.com/lachmanfrantisek
[tomas]: https://github.com/TomasTomecek

## Week 35 (August 24th - August 28th)

- [Tomas] improved logging of the Packit actions' output. ([packit#950](https://github.com/packit/packit/pull/950))
- [Anchit] fixed and enhanced the `/api/srpm-builds` endpoint.
  ([packit-service#788](https://github.com/packit/packit-service/pull/788))

[tomas]: https://github.com/TomasTomecek
[anchit]: https://github.com/IceWreck

## Week 36 (August 31th - September 4th)

- We store the submission time of SRPM builds now ([packit-service#795](https://github.com/packit/packit-service/pull/795) by [Anchit]).
- [Shreyas] improved implementation of the build status reporting ([packit-service#740](https://github.com/packit/packit-service/pull/740)).
- [Anchit] enhanced the `/koji-builds` endpoint to be more consistent with `/copr-builds` endpoint ([packit-service#791](https://github.com/packit/packit-service/pull/791)).

[anchit]: https://github.com/IceWreck
[shreyas]: https://github.com/shreyaspapi

## Week 37 (September 7th - September 11th)

- Stage now uses [Tokman](https://github.com/packit/tokman) to get access tokens for GitHub, which should resolve race condition when running parallel jobs
  (Tokman by [Hunor], ogr integration by [Matej]).
- [Franta] has addressed problems with Testing-Farm cluster with custom response on PRs that links to more information ([pinned info](https://github.com/packit/packit-service/issues/803), [packit-service#798](https://github.com/packit/packit-service/pull/798)).

[hunor]: https://github.com/csomh
[matej]: https://github.com/mfocko
[franta]: https://github.com/lachmanfrantisek

## Week 38 (September 14th - September 18th)

- The combination of the source-git patches with existing patches now works well
  ([packit#963](https://github.com/packit/packit/pull/963)).
- Service now mostly supports also GitLab as you can see
  [here](https://gitlab.com/packit-service/hello-world/-/merge_requests/10)
  or [here](https://gitlab.com/packit-service/src/drpm/-/merge_requests/2).
  A lot of small issues were fixed in the last week
  ([packit-service#806](https://github.com/packit/packit-service/pull/806),
  [packit-service#812](https://github.com/packit/packit-service/pull/812),
  [packit-service#814](https://github.com/packit/packit-service/pull/814),
  [packit-service#815](https://github.com/packit/packit-service/pull/815),
  [packit-service#816](https://github.com/packit/packit-service/pull/816)
  ).
- Created Copr projects are now prefixed with the hostname
  for non-GitHub services and also support multipart namespaces
  ([packit-service#819](https://github.com/packit/packit-service/pull/819)).
- [Laura] fixed two testing-farm related issues
  ([packit-service#808](https://github.com/packit/packit-service/pull/808),
  [packit-service#809](https://github.com/packit/packit-service/pull/809)).
  You can now use `test` job also on Pagure and GitLab thanks to that.

[laura]: https://github.com/lbarcziova

## Week 39 (September 21st - September 25th)

- Packit-service can be configured to work with private namespaces. This is plumbing work which we need right now for CentOS Stream. We are not planning to enable this for GitHub - packit-service will still work only for public repositories, private ones are ignored. [packit-service#831](https://github.com/packit/packit-service/pull/831)
- If git tag contains more information than just version (e.g. `pkg_name-v1.2.3`), it is possible to use upstream_tag_template to extract version from the tag, which will be used in a subsequent task. [doc](https://packit.dev/docs/configuration/#upstream_tag_template) [packit#959](https://github.com/packit/packit/pull/959)
- Added support for globbing pattern in upstream_ref. [doc](https://packit.dev/docs/configuration/#upstream_ref) [packit#960](https://github.com/packit/packit/pull/960)
- Packit `--remote` is global option now and available for all commands. Because of this `sync-from-downstream --remote` was renamed to `--remote-to-push`. Remote can now be specified in the user's config (via upstream_git_remote parameter). [packit#977](https://github.com/packit/packit/pull/977)

Following bugs were fixed:

- Packit dropping leading zeros in version. [packit#814](https://github.com/packit/packit/pull/814)
- Packit CLI issue caused by picking incorrect copr project name. [packit#971](https://github.com/packit/packit/pull/971)

## Week 40 (September 28th - October 2nd)

- Packit-service is now explicitly checking if requested copr-build targets exist and if not, the user is informed about it. [packit-service#835](https://github.com/packit/packit-service/pull/835)
- We have improved the way how packit updates `%setup` line in a spec file - you are now able to set content of `-n` option via archive_root_dir_template config option, it defaults to `{upstream-pkg-name}`. [doc](https://github.com/packit/packit.dev/pull/167) [packit#834](https://github.com/packit/packit-service/pull/834)
- Packit is able to generate a patch file with format-patch without leading a/ and b/ in the patch diff. Required for patches in dist-git which are applied with -p0.
- Contribution guidelines were updated, now we have one shared [link](https://github.com/packit/contributing).

## Week 41 (October 5th - October 9th)

- [franta] made triggering of jobs more reliable and in correct situations ([packit-service#837](https://github.com/packit/packit-service/pull/837))

[franta]: https://github.com/lachmanfrantisek

## Week 42 (October 12th - October 16th)

Nothing significant happened during this week. The only change was that Hunor
[resolved](https://github.com/packit/packit-service/pull/850) a problem when sentry client library ([the alert service](https://sentry.io/) we use) caused errors in stage
environment and hence the problem didn't make it to production.

We have also released a new version of packit: [0.18](https://github.com/packit/packit/releases/tag/0.18.0).

## Week 43 (October 19th - October 24th)

We finally had a week with plenty updates!

- We found out the hard way that one cannot build in [Fedora koji](https://koji.fedoraproject.org/koji/) directly
  from SRPM unless it's a scratch build. The discussion with Fedora rel-eng is
  happening at [pagure.io/releng/issue/9801](https://pagure.io/releng/issue/9801) and in the meantime, all koji builds
  will be halted on our side since we know they cannot succeed. Do `scratch: true` for koji builds before this gets resolved.
- Packit creates a symlink for a generated archive at the root of the project.
  So far it only did it from a relative path and now absolute paths are
  supported as well. This is useful when your specfile is placed in a
  subdirectory and rpmbuild can't find the archive.
- There is a new usability improvement to proposing a new downstream update. If
  the PR is already created, packit won't create it again. You will no longer
  receive duplicate downstream PRs in dist-git.
- When doing a new downstream update, packit doesn't sync %changelog since
  those are usually out of sync between upstream and downstream. Packit creates
  a new entry for the new release in the downstream. There is a new packit.yaml
  configuration option `sync_changelog` which bypasses this behaviour and
  copies the %changelog from upstream and overwrites the downstream changelog.
  Please use this option only when your changelogs are in sync. [Documentation](https://packit.dev/docs/configuration/#sync_changelog)

## Week 44 (October 26th - October 30th)

No user-facing changes in packit(-service) this week.

## Week 45 (November 2nd - November 6th)

- [Laura] implemented an option for packit to copy description from a release into
  a changelog when running `propose-update`. Also the default message has been changed
  to the list of commit messages from last release. ([packit#1004](https://github.com/packit/packit/pull/1004))
- [Jano] improved handling of build targets in packit. ([packit#986](https://github.com/packit/packit/pull/986))
- [Tomas] improved an experience of a contributor to source-git in case the contributor
  doesn't follow git-am patches style that is used. ([packit#1000](https://github.com/packit/packit/pull/1000))

## Week 46 (November 9th - November 13th)

- [Tomas] improved the UX of logging in the CLI. ([packit#1014](https://github.com/packit/packit/pull/1014))
- [Jano] improved logic of acquiring current version in the CLI. ([packit#1013](https://github.com/packit/packit/pull/1013))
- We appreciate getting feedback from our users, if you could find some time to
  do so, there is an [open issue](https://github.com/packit/packit-service/issues/859)
  for it.

## Week 47 (November 16th - November 20th)

- ~~[Matej] fixed [an
  issue](https://github.com/packit/packit-service/issues/774) with Packit CLI,
  enabling recursive search for spec-files
  ([packit#1005](https://github.com/packit/packit/pull/1005)).~~ It turned
  out, this change made it very easy to [deplete GitHub API quota], so it was
  reverted.
- [Laura] made Copr builds to be part of the default jobs. This will cause
  build jobs to explicitly run, and display their own result flags in PRs,
  next to the test results. We hope this to be a more friendly behaviour for
  our new users ([packit#1024](https://github.com/packit/packit/pull/1024)).

## Week 48 (November 23rd - November 27th)

- [Laura] [fixed a bug], where Packit Service failed to trigger Copr builds
  before triggering the tests in case triggering Copr builds was configured
  for a different event.
- Thanks to [Matej], Packit Service will now [comment on commits] in case Copr
  builds fail after a merge, in order to indicate the reason for the failure.
- Packit Service will soon stop commenting on PRs after the first successful
  build. The installation instructions from these comments [were moved to the
  result page] by [Laura], while [Matej] [added a warning] to inform users
  about this upcoming change.

[laura]: https://github.com/lbarcziova
[jano]: https://github.com/sakalosj
[tomas]: https://github.com/TomasTomecek
[matej]: https://github.com/mfocko
[deplete github api quota]: https://github.com/packit/packit-service/issues/876
[fixed a bug]: https://github.com/packit/packit-service/pull/888
[comment on commits]: https://github.com/packit/packit-service/pull/854
[added a warning]: https://github.com/packit/packit-service/pull/891
[were moved to the result page]: https://github.com/packit/packit-service/pull/877

## Week 49 (November 30th - December 4th)

- [Jano] fixed a bug in `sync_release` method of Packit API. ([packit#1043](https://github.com/packit/packit/pull/1043))
- [Jiri Konecny] contributed a fix for how Packit creates COPR urls. ([packit#1039](https://github.com/packit/packit/pull/1039))
- [Laura] updated instructions how to retrigger a job. ([packit-service#892](https://github.com/packit/packit-service/pull/892))

[jano]: https://github.com/sakalosj
[jiri konecny]: https://github.com/jkonecny12
[laura]: https://github.com/lbarcziova

## Week 50 (December 7th - December 11th)

- [Tomas] implemented the `--upstream-url` option of `packit init` command. When specified,
  `init` also sets up a source-git repository next to creating a configuration file.

[tomas]: https://github.com/TomasTomecek

## Week 51 (December 14th - December 18th)

- Congratulations comments are now disabled by default, unless enabled in config.
- A bug, which prevented npm to be run during SRPM build, has been fixed. ([sandcastle#86](https://github.com/packit/sandcastle/pull/86))
